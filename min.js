eval(function(h,b,l,f,g,j){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(l--){j[g(l)]=f[l]||g(l)}f=[function(a){return j[a]}];g=function(){return"\\w+"};l=1}while(l--){if(f[l]){h=h.replace(new RegExp("\\b"+g(l)+"\\b","g"),f[l])}}return h}('K M;I(M)1S 2U("2a\'t 4k M 4K 2g 3l 4G 4H");(6(){6 r(f,e){I(!M.1R(f))1S 3m("3s 15 4R");K a=f.1w;f=M(f.1m,t(f)+(e||""));I(a)f.1w={1m:a.1m,19:a.19?a.19.1a(0):N};H f}6 t(f){H(f.1J?"g":"")+(f.4s?"i":"")+(f.4p?"m":"")+(f.4v?"x":"")+(f.3n?"y":"")}6 B(f,e,a,b){K c=u.L,d,h,g;v=R;5K{O(;c--;){g=u[c];I(a&g.3r&&(!g.2p||g.2p.W(b))){g.2q.12=e;I((h=g.2q.X(f))&&h.P===e){d={3k:g.2b.W(b,h,a),1C:h};1N}}}}5v(i){1S i}5q{v=11}H d}6 p(f,e,a){I(3b.Z.1i)H f.1i(e,a);O(a=a||0;a<f.L;a++)I(f[a]===e)H a;H-1}M=6(f,e){K a=[],b=M.1B,c=0,d,h;I(M.1R(f)){I(e!==1d)1S 3m("2a\'t 5r 5I 5F 5B 5C 15 5E 5p");H r(f)}I(v)1S 2U("2a\'t W 3l M 59 5m 5g 5x 5i");e=e||"";O(d={2N:11,19:[],2K:6(g){H e.1i(g)>-1},3d:6(g){e+=g}};c<f.L;)I(h=B(f,c,b,d)){a.U(h.3k);c+=h.1C[0].L||1}Y I(h=n.X.W(z[b],f.1a(c))){a.U(h[0]);c+=h[0].L}Y{h=f.3a(c);I(h==="[")b=M.2I;Y I(h==="]")b=M.1B;a.U(h);c++}a=15(a.1K(""),n.Q.W(e,w,""));a.1w={1m:f,19:d.2N?d.19:N};H a};M.3v="1.5.0";M.2I=1;M.1B=2;K C=/\\$(?:(\\d\\d?|[$&`\'])|{([$\\w]+)})/g,w=/[^5h]+|([\\s\\S])(?=[\\s\\S]*\\1)/g,A=/^(?:[?*+]|{\\d+(?:,\\d*)?})\\??/,v=11,u=[],n={X:15.Z.X,1A:15.Z.1A,1C:1r.Z.1C,Q:1r.Z.Q,1e:1r.Z.1e},x=n.X.W(/()??/,"")[1]===1d,D=6(){K f=/^/g;n.1A.W(f,"");H!f.12}(),y=6(){K f=/x/g;n.Q.W("x",f,"");H!f.12}(),E=15.Z.3n!==1d,z={};z[M.2I]=/^(?:\\\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S]))/;z[M.1B]=/^(?:\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\\d*|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S])|\\(\\?[:=!]|[?*+]\\?|{\\d+(?:,\\d*)?}\\??)/;M.1h=6(f,e,a,b){u.U({2q:r(f,"g"+(E?"y":"")),2b:e,3r:a||M.1B,2p:b||N})};M.2n=6(f,e){K a=f+"/"+(e||"");H M.2n[a]||(M.2n[a]=M(f,e))};M.3c=6(f){H r(f,"g")};M.5l=6(f){H f.Q(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,"\\\\$&")};M.5e=6(f,e,a,b){e=r(e,"g"+(b&&E?"y":""));e.12=a=a||0;f=e.X(f);H b?f&&f.P===a?f:N:f};M.3q=6(){M.1h=6(){1S 2U("2a\'t 55 1h 54 3q")}};M.1R=6(f){H 53.Z.1q.W(f)==="[2m 15]"};M.3p=6(f,e,a,b){O(K c=r(e,"g"),d=-1,h;h=c.X(f);){a.W(b,h,++d,f,c);c.12===h.P&&c.12++}I(e.1J)e.12=0};M.57=6(f,e){H 6 a(b,c){K d=e[c].1I?e[c]:{1I:e[c]},h=r(d.1I,"g"),g=[],i;O(i=0;i<b.L;i++)M.3p(b[i],h,6(k){g.U(d.3j?k[d.3j]||"":k[0])});H c===e.L-1||!g.L?g:a(g,c+1)}([f],0)};15.Z.1p=6(f,e){H J.X(e[0])};15.Z.W=6(f,e){H J.X(e)};15.Z.X=6(f){K e=n.X.1p(J,14),a;I(e){I(!x&&e.L>1&&p(e,"")>-1){a=15(J.1m,n.Q.W(t(J),"g",""));n.Q.W(f.1a(e.P),a,6(){O(K c=1;c<14.L-2;c++)I(14[c]===1d)e[c]=1d})}I(J.1w&&J.1w.19)O(K b=1;b<e.L;b++)I(a=J.1w.19[b-1])e[a]=e[b];!D&&J.1J&&!e[0].L&&J.12>e.P&&J.12--}H e};I(!D)15.Z.1A=6(f){(f=n.X.W(J,f))&&J.1J&&!f[0].L&&J.12>f.P&&J.12--;H!!f};1r.Z.1C=6(f){M.1R(f)||(f=15(f));I(f.1J){K e=n.1C.1p(J,14);f.12=0;H e}H f.X(J)};1r.Z.Q=6(f,e){K a=M.1R(f),b,c;I(a&&1j e.58()==="3f"&&e.1i("${")===-1&&y)H n.Q.1p(J,14);I(a){I(f.1w)b=f.1w.19}Y f+="";I(1j e==="6")c=n.Q.W(J,f,6(){I(b){14[0]=1f 1r(14[0]);O(K d=0;d<b.L;d++)I(b[d])14[0][b[d]]=14[d+1]}I(a&&f.1J)f.12=14[14.L-2]+14[0].L;H e.1p(N,14)});Y{c=J+"";c=n.Q.W(c,f,6(){K d=14;H n.Q.W(e,C,6(h,g,i){I(g)5b(g){24"$":H"$";24"&":H d[0];24"`":H d[d.L-1].1a(0,d[d.L-2]);24"\'":H d[d.L-1].1a(d[d.L-2]+d[0].L);5a:i="";g=+g;I(!g)H h;O(;g>d.L-3;){i=1r.Z.1a.W(g,-1)+i;g=1Q.3i(g/10)}H(g?d[g]||"":"$")+i}Y{g=+i;I(g<=d.L-3)H d[g];g=b?p(b,i):-1;H g>-1?d[g+1]:h}})})}I(a&&f.1J)f.12=0;H c};1r.Z.1e=6(f,e){I(!M.1R(f))H n.1e.1p(J,14);K a=J+"",b=[],c=0,d,h;I(e===1d||+e<0)e=5D;Y{e=1Q.3i(+e);I(!e)H[]}O(f=M.3c(f);d=f.X(a);){I(f.12>c){b.U(a.1a(c,d.P));d.L>1&&d.P<a.L&&3b.Z.U.1p(b,d.1a(1));h=d[0].L;c=f.12;I(b.L>=e)1N}f.12===d.P&&f.12++}I(c===a.L){I(!n.1A.W(f,"")||h)b.U("")}Y b.U(a.1a(c));H b.L>e?b.1a(0,e):b};M.1h(/\\(\\?#[^)]*\\)/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"});M.1h(/\\((?!\\?)/,6(){J.19.U(N);H"("});M.1h(/\\(\\?<([$\\w]+)>/,6(f){J.19.U(f[1]);J.2N=R;H"("});M.1h(/\\\\k<([\\w$]+)>/,6(f){K e=p(J.19,f[1]);H e>-1?"\\\\"+(e+1)+(3R(f.2S.3a(f.P+f[0].L))?"":"(?:)"):f[0]});M.1h(/\\[\\^?]/,6(f){H f[0]==="[]"?"\\\\b\\\\B":"[\\\\s\\\\S]"});M.1h(/^\\(\\?([5A]+)\\)/,6(f){J.3d(f[1]);H""});M.1h(/(?:\\s+|#.*)+/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"},M.1B,6(){H J.2K("x")});M.1h(/\\./,6(){H"[\\\\s\\\\S]"},M.1B,6(){H J.2K("s")})})();1j 2e!="1d"&&(2e.M=M);K 1v=6(){6 r(a,b){a.1l.1i(b)!=-1||(a.1l+=" "+b)}6 t(a){H a.1i("3e")==0?a:"3e"+a}6 B(a){H e.1Y.2A[t(a)]}6 p(a,b,c){I(a==N)H N;K d=c!=R?a.3G:[a.2G],h={"#":"1c",".":"1l"}[b.1o(0,1)]||"3h",g,i;g=h!="3h"?b.1o(1):b.5u();I((a[h]||"").1i(g)!=-1)H a;O(a=0;d&&a<d.L&&i==N;a++)i=p(d[a],b,c);H i}6 C(a,b){K c={},d;O(d 2g a)c[d]=a[d];O(d 2g b)c[d]=b[d];H c}6 w(a,b,c,d){6 h(g){g=g||1P.5y;I(!g.1F){g.1F=g.52;g.3N=6(){J.5w=11}}c.W(d||1P,g)}a.3g?a.3g("4U"+b,h):a.4y(b,h,11)}6 A(a,b){K c=e.1Y.2j,d=N;I(c==N){c={};O(K h 2g e.1U){K g=e.1U[h];d=g.4x;I(d!=N){g.1V=h.4w();O(g=0;g<d.L;g++)c[d[g]]=h}}e.1Y.2j=c}d=e.1U[c[a]];d==N&&b!=11&&1P.1X(e.13.1x.1X+(e.13.1x.3E+a));H d}6 v(a,b){O(K c=a.1e("\\n"),d=0;d<c.L;d++)c[d]=b(c[d],d);H c.1K("\\n")}6 u(a,b){I(a==N||a.L==0||a=="\\n")H a;a=a.Q(/</g,"&1y;");a=a.Q(/ {2,}/g,6(c){O(K d="",h=0;h<c.L-1;h++)d+=e.13.1W;H d+" "});I(b!=N)a=v(a,6(c){I(c.L==0)H"";K d="";c=c.Q(/^(&2s;| )+/,6(h){d=h;H""});I(c.L==0)H d;H d+\'<17 1g="\'+b+\'">\'+c+"</17>"});H a}6 n(a,b){a.1e("\\n");O(K c="",d=0;d<50;d++)c+="                    ";H a=v(a,6(h){I(h.1i("\\t")==-1)H h;O(K g=0;(g=h.1i("\\t"))!=-1;)h=h.1o(0,g)+c.1o(0,b-g%b)+h.1o(g+1,h.L);H h})}6 x(a){H a.Q(/^\\s+|\\s+$/g,"")}6 D(a,b){I(a.P<b.P)H-1;Y I(a.P>b.P)H 1;Y I(a.L<b.L)H-1;Y I(a.L>b.L)H 1;H 0}6 y(a,b){6 c(k){H k[0]}O(K d=N,h=[],g=b.2D?b.2D:c;(d=b.1I.X(a))!=N;){K i=g(d,b);I(1j i=="3f")i=[1f e.2L(i,d.P,b.23)];h=h.1O(i)}H h}6 E(a){K b=/(.*)((&1G;|&1y;).*)/;H a.Q(e.3A.3M,6(c){K d="",h=N;I(h=b.X(c)){c=h[1];d=h[2]}H\'<a 2h="\'+c+\'">\'+c+"</a>"+d})}6 z(){O(K a=1E.36("1k"),b=[],c=0;c<a.L;c++)a[c].3s=="20"&&b.U(a[c]);H b}6 f(a){a=a.1F;K b=p(a,".20",R);a=p(a,".3O",R);K c=1E.4i("3t");I(!(!a||!b||p(a,"3t"))){B(b.1c);r(b,"1m");O(K d=a.3G,h=[],g=0;g<d.L;g++)h.U(d[g].4z||d[g].4A);h=h.1K("\\r");c.39(1E.4D(h));a.39(c);c.2C();c.4C();w(c,"4u",6(){c.2G.4E(c);b.1l=b.1l.Q("1m","")})}}I(1j 3F!="1d"&&1j M=="1d")M=3F("M").M;K e={2v:{"1g-27":"","2i-1s":1,"2z-1s-2t":11,1M:N,1t:N,"42-45":R,"43-22":4,1u:R,16:R,"3V-17":R,2l:11,"41-40":R,2k:11,"1z-1k":11},13:{1W:"&2s;",2M:R,46:11,44:11,34:"4n",1x:{21:"4o 1m",2P:"?",1X:"1v\\n\\n",3E:"4r\'t 4t 1D O: ",4g:"4m 4B\'t 51 O 1z-1k 4F: ",37:\'<!4T 1z 4S "-//4V//3H 4W 1.0 4Z//4Y" "1Z://2y.3L.3K/4X/3I/3H/3I-4P.4J"><1z 4I="1Z://2y.3L.3K/4L/5L"><3J><4N 1Z-4M="5G-5M" 6K="2O/1z; 6J=6I-8" /><1t>6L 1v</1t></3J><3B 1L="25-6M:6Q,6P,6O,6N-6F;6y-2f:#6x;2f:#6w;25-22:6v;2O-3D:3C;"><T 1L="2O-3D:3C;3w-32:1.6z;"><T 1L="25-22:6A-6E;">1v</T><T 1L="25-22:.6C;3w-6B:6R;"><T>3v 3.0.76 (72 73 3x)</T><T><a 2h="1Z://3u.2w/1v" 1F="38" 1L="2f:#3y">1Z://3u.2w/1v</a></T><T>70 17 6U 71.</T><T>6T 6X-3x 6Y 6D.</T></T><T>6t 61 60 J 1k, 5Z <a 2h="6u://2y.62.2w/63-66/65?64=5X-5W&5P=5O" 1L="2f:#3y">5R</a> 5V <2R/>5U 5T 5S!</T></T></3B></1z>\'}},1Y:{2j:N,2A:{}},1U:{},3A:{6n:/\\/\\*[\\s\\S]*?\\*\\//2c,6m:/\\/\\/.*$/2c,6l:/#.*$/2c,6k:/"([^\\\\"\\n]|\\\\.)*"/g,6o:/\'([^\\\\\'\\n]|\\\\.)*\'/g,6p:1f M(\'"([^\\\\\\\\"]|\\\\\\\\.)*"\',"3z"),6s:1f M("\'([^\\\\\\\\\']|\\\\\\\\.)*\'","3z"),6q:/(&1y;|<)!--[\\s\\S]*?--(&1G;|>)/2c,3M:/\\w+:\\/\\/[\\w-.\\/?%&=:@;]*/g,6a:{18:/(&1y;|<)\\?=?/g,1b:/\\?(&1G;|>)/g},69:{18:/(&1y;|<)%=?/g,1b:/%(&1G;|>)/g},6d:{18:/(&1y;|<)\\s*1k.*?(&1G;|>)/2T,1b:/(&1y;|<)\\/\\s*1k\\s*(&1G;|>)/2T}},16:{1H:6(a){6 b(i,k){H e.16.2o(i,k,e.13.1x[k])}O(K c=\'<T 1g="16">\',d=e.16.2x,h=d.2X,g=0;g<h.L;g++)c+=(d[h[g]].1H||b)(a,h[g]);c+="</T>";H c},2o:6(a,b,c){H\'<2W><a 2h="#" 1g="6e 6h\'+b+" "+b+\'">\'+c+"</a></2W>"},2b:6(a){K b=a.1F,c=b.1l||"";b=B(p(b,".20",R).1c);K d=6(h){H(h=15(h+"6f(\\\\w+)").X(c))?h[1]:N}("6g");b&&d&&e.16.2x[d].2B(b);a.3N()},2x:{2X:["21","2P"],21:{1H:6(a){I(a.V("2l")!=R)H"";K b=a.V("1t");H e.16.2o(a,"21",b?b:e.13.1x.21)},2B:6(a){a=1E.6j(t(a.1c));a.1l=a.1l.Q("47","")}},2P:{2B:6(){K a="68=0";a+=", 18="+(31.30-33)/2+", 32="+(31.2Z-2Y)/2+", 30=33, 2Z=2Y";a=a.Q(/^,/,"");a=1P.6Z("","38",a);a.2C();K b=a.1E;b.6W(e.13.1x.37);b.6V();a.2C()}}}},35:6(a,b){K c;I(b)c=[b];Y{c=1E.36(e.13.34);O(K d=[],h=0;h<c.L;h++)d.U(c[h]);c=d}c=c;d=[];I(e.13.2M)c=c.1O(z());I(c.L===0)H d;O(h=0;h<c.L;h++){O(K g=c[h],i=a,k=c[h].1l,j=3W 0,l={},m=1f M("^\\\\[(?<2V>(.*?))\\\\]$"),s=1f M("(?<27>[\\\\w-]+)\\\\s*:\\\\s*(?<1T>[\\\\w-%#]+|\\\\[.*?\\\\]|\\".*?\\"|\'.*?\')\\\\s*;?","g");(j=s.X(k))!=N;){K o=j.1T.Q(/^[\'"]|[\'"]$/g,"");I(o!=N&&m.1A(o)){o=m.X(o);o=o.2V.L>0?o.2V.1e(/\\s*,\\s*/):[]}l[j.27]=o}g={1F:g,1n:C(i,l)};g.1n.1D!=N&&d.U(g)}H d},1M:6(a,b){K c=J.35(a,b),d=N,h=e.13;I(c.L!==0)O(K g=0;g<c.L;g++){b=c[g];K i=b.1F,k=b.1n,j=k.1D,l;I(j!=N){I(k["1z-1k"]=="R"||e.2v["1z-1k"]==R){d=1f e.4l(j);j="4O"}Y I(d=A(j))d=1f d;Y 6H;l=i.3X;I(h.2M){l=l;K m=x(l),s=11;I(m.1i("<![6G[")==0){m=m.4h(9);s=R}K o=m.L;I(m.1i("]]\\>")==o-3){m=m.4h(0,o-3);s=R}l=s?m:l}I((i.1t||"")!="")k.1t=i.1t;k.1D=j;d.2Q(k);b=d.2F(l);I((i.1c||"")!="")b.1c=i.1c;i.2G.74(b,i)}}},2E:6(a){w(1P,"4k",6(){e.1M(a)})}};e.2E=e.2E;e.1M=e.1M;e.2L=6(a,b,c){J.1T=a;J.P=b;J.L=a.L;J.23=c;J.1V=N};e.2L.Z.1q=6(){H J.1T};e.4l=6(a){6 b(j,l){O(K m=0;m<j.L;m++)j[m].P+=l}K c=A(a),d,h=1f e.1U.5Y,g=J,i="2F 1H 2Q".1e(" ");I(c!=N){d=1f c;O(K k=0;k<i.L;k++)(6(){K j=i[k];g[j]=6(){H h[j].1p(h,14)}})();d.28==N?1P.1X(e.13.1x.1X+(e.13.1x.4g+a)):h.2J.U({1I:d.28.17,2D:6(j){O(K l=j.17,m=[],s=d.2J,o=j.P+j.18.L,F=d.28,q,G=0;G<s.L;G++){q=y(l,s[G]);b(q,o);m=m.1O(q)}I(F.18!=N&&j.18!=N){q=y(j.18,F.18);b(q,j.P);m=m.1O(q)}I(F.1b!=N&&j.1b!=N){q=y(j.1b,F.1b);b(q,j.P+j[0].5Q(j.1b));m=m.1O(q)}O(j=0;j<m.L;j++)m[j].1V=c.1V;H m}})}};e.4j=6(){};e.4j.Z={V:6(a,b){K c=J.1n[a];c=c==N?b:c;K d={"R":R,"11":11}[c];H d==N?c:d},3Y:6(a){H 1E.4i(a)},4c:6(a,b){K c=[];I(a!=N)O(K d=0;d<a.L;d++)I(1j a[d]=="2m")c=c.1O(y(b,a[d]));H J.4e(c.6b(D))},4e:6(a){O(K b=0;b<a.L;b++)I(a[b]!==N)O(K c=a[b],d=c.P+c.L,h=b+1;h<a.L&&a[b]!==N;h++){K g=a[h];I(g!==N)I(g.P>d)1N;Y I(g.P==c.P&&g.L>c.L)a[b]=N;Y I(g.P>=c.P&&g.P<d)a[h]=N}H a},4d:6(a){K b=[],c=2u(J.V("2i-1s"));v(a,6(d,h){b.U(h+c)});H b},3U:6(a){K b=J.V("1M",[]);I(1j b!="2m"&&b.U==N)b=[b];a:{a=a.1q();K c=3W 0;O(c=c=1Q.6c(c||0,0);c<b.L;c++)I(b[c]==a){b=c;1N a}b=-1}H b!=-1},2r:6(a,b,c){a=["1s","6i"+b,"P"+a,"6r"+(b%2==0?1:2).1q()];J.3U(b)&&a.U("67");b==0&&a.U("1N");H\'<T 1g="\'+a.1K(" ")+\'">\'+c+"</T>"},3Q:6(a,b){K c="",d=a.1e("\\n").L,h=2u(J.V("2i-1s")),g=J.V("2z-1s-2t");I(g==R)g=(h+d-1).1q().L;Y I(3R(g)==R)g=0;O(K i=0;i<d;i++){K k=b?b[i]:h+i,j;I(k==0)j=e.13.1W;Y{j=g;O(K l=k.1q();l.L<j;)l="0"+l;j=l}a=j;c+=J.2r(i,k,a)}H c},49:6(a,b){a=x(a);K c=a.1e("\\n");J.V("2z-1s-2t");K d=2u(J.V("2i-1s"));a="";O(K h=J.V("1D"),g=0;g<c.L;g++){K i=c[g],k=/^(&2s;|\\s)+/.X(i),j=N,l=b?b[g]:d+g;I(k!=N){j=k[0].1q();i=i.1o(j.L);j=j.Q(" ",e.13.1W)}i=x(i);I(i.L==0)i=e.13.1W;a+=J.2r(g,l,(j!=N?\'<17 1g="\'+h+\' 5N">\'+j+"</17>":"")+i)}H a},4f:6(a){H a?"<4a>"+a+"</4a>":""},4b:6(a,b){6 c(l){H(l=l?l.1V||g:g)?l+" ":""}O(K d=0,h="",g=J.V("1D",""),i=0;i<b.L;i++){K k=b[i],j;I(!(k===N||k.L===0)){j=c(k);h+=u(a.1o(d,k.P-d),j+"48")+u(k.1T,j+k.23);d=k.P+k.L+(k.75||0)}}h+=u(a.1o(d),c()+"48");H h},1H:6(a){K b="",c=["20"],d;I(J.V("2k")==R)J.1n.16=J.1n.1u=11;1l="20";J.V("2l")==R&&c.U("47");I((1u=J.V("1u"))==11)c.U("6S");c.U(J.V("1g-27"));c.U(J.V("1D"));a=a.Q(/^[ ]*[\\n]+|[\\n]*[ ]*$/g,"").Q(/\\r/g," ");b=J.V("43-22");I(J.V("42-45")==R)a=n(a,b);Y{O(K h="",g=0;g<b;g++)h+=" ";a=a.Q(/\\t/g,h)}a=a;a:{b=a=a;h=/<2R\\s*\\/?>|&1y;2R\\s*\\/?&1G;/2T;I(e.13.46==R)b=b.Q(h,"\\n");I(e.13.44==R)b=b.Q(h,"");b=b.1e("\\n");h=/^\\s*/;g=4Q;O(K i=0;i<b.L&&g>0;i++){K k=b[i];I(x(k).L!=0){k=h.X(k);I(k==N){a=a;1N a}g=1Q.4q(k[0].L,g)}}I(g>0)O(i=0;i<b.L;i++)b[i]=b[i].1o(g);a=b.1K("\\n")}I(1u)d=J.4d(a);b=J.4c(J.2J,a);b=J.4b(a,b);b=J.49(b,d);I(J.V("41-40"))b=E(b);1j 2H!="1d"&&2H.3S&&2H.3S.1C(/5s/)&&c.U("5t");H b=\'<T 1c="\'+t(J.1c)+\'" 1g="\'+c.1K(" ")+\'">\'+(J.V("16")?e.16.1H(J):"")+\'<3Z 5z="0" 5H="0" 5J="0">\'+J.4f(J.V("1t"))+"<3T><3P>"+(1u?\'<2d 1g="1u">\'+J.3Q(a)+"</2d>":"")+\'<2d 1g="17"><T 1g="3O">\'+b+"</T></2d></3P></3T></3Z></T>"},2F:6(a){I(a===N)a="";J.17=a;K b=J.3Y("T");b.3X=J.1H(a);J.V("16")&&w(p(b,".16"),"5c",e.16.2b);J.V("3V-17")&&w(p(b,".17"),"56",f);H b},2Q:6(a){J.1c=""+1Q.5d(1Q.5n()*5k).1q();e.1Y.2A[t(J.1c)]=J;J.1n=C(e.2v,a||{});I(J.V("2k")==R)J.1n.16=J.1n.1u=11},5j:6(a){a=a.Q(/^\\s+|\\s+$/g,"").Q(/\\s+/g,"|");H"\\\\b(?:"+a+")\\\\b"},5f:6(a){J.28={18:{1I:a.18,23:"1k"},1b:{1I:a.1b,23:"1k"},17:1f M("(?<18>"+a.18.1m+")(?<17>.*?)(?<1b>"+a.1b.1m+")","5o")}}};H e}();1j 2e!="1d"&&(2e.1v=1v);',62,441,"||||||function|||||||||||||||||||||||||||||||||||||return|if|this|var|length|XRegExp|null|for|index|replace|true||div|push|getParam|call|exec|else|prototype||false|lastIndex|config|arguments|RegExp|toolbar|code|left|captureNames|slice|right|id|undefined|split|new|class|addToken|indexOf|typeof|script|className|source|params|substr|apply|toString|String|line|title|gutter|SyntaxHighlighter|_xregexp|strings|lt|html|test|OUTSIDE_CLASS|match|brush|document|target|gt|getHtml|regex|global|join|style|highlight|break|concat|window|Math|isRegExp|throw|value|brushes|brushName|space|alert|vars|http|syntaxhighlighter|expandSource|size|css|case|font|Fa|name|htmlScript|dA|can|handler|gm|td|exports|color|in|href|first|discoveredBrushes|light|collapse|object|cache|getButtonHtml|trigger|pattern|getLineHtml|nbsp|numbers|parseInt|defaults|com|items|www|pad|highlighters|execute|focus|func|all|getDiv|parentNode|navigator|INSIDE_CLASS|regexList|hasFlag|Match|useScriptTags|hasNamedCapture|text|help|init|br|input|gi|Error|values|span|list|250|height|width|screen|top|500|tagName|findElements|getElementsByTagName|aboutDialog|_blank|appendChild|charAt|Array|copyAsGlobal|setFlag|highlighter_|string|attachEvent|nodeName|floor|backref|output|the|TypeError|sticky|Za|iterate|freezeTokens|scope|type|textarea|alexgorbatchev|version|margin|2010|005896|gs|regexLib|body|center|align|noBrush|require|childNodes|DTD|xhtml1|head|org|w3|url|preventDefault|container|tr|getLineNumbersHtml|isNaN|userAgent|tbody|isLineHighlighted|quick|void|innerHTML|create|table|links|auto|smart|tab|stripBrs|tabs|bloggerMode|collapsed|plain|getCodeLinesHtml|caption|getMatchesHtml|findMatches|figureOutLineNumbers|removeNestedMatches|getTitleHtml|brushNotHtmlScript|substring|createElement|Highlighter|load|HtmlScript|Brush|pre|expand|multiline|min|Can|ignoreCase|find|blur|extended|toLowerCase|aliases|addEventListener|innerText|textContent|wasn|select|createTextNode|removeChild|option|same|frame|xmlns|dtd|twice|1999|equiv|meta|htmlscript|transitional|1E3|expected|PUBLIC|DOCTYPE|on|W3C|XHTML|TR|EN|Transitional||configured|srcElement|Object|after|run|dblclick|matchChain|valueOf|constructor|default|switch|click|round|execAt|forHtmlScript|token|gimy|functions|getKeywords|1E6|escape|within|random|sgi|another|finally|supply|MSIE|ie|toUpperCase|catch|returnValue|definition|event|border|imsx|constructing|one|Infinity|from|when|Content|cellpadding|flags|cellspacing|try|xhtml|Type|spaces|2930402|hosted_button_id|lastIndexOf|donate|active|development|keep|to|xclick|_s|Xml|please|like|you|paypal|cgi|cmd|webscr|bin|highlighted|scrollbars|aspScriptTags|phpScriptTags|sort|max|scriptScriptTags|toolbar_item|_|command|command_|number|getElementById|doubleQuotedString|singleLinePerlComments|singleLineCComments|multiLineCComments|singleQuotedString|multiLineDoubleQuotedString|xmlComments|alt|multiLineSingleQuotedString|If|https|1em|000|fff|background|5em|xx|bottom|75em|Gorbatchev|large|serif|CDATA|continue|utf|charset|content|About|family|sans|Helvetica|Arial|Geneva|3em|nogutter|Copyright|syntax|close|write|2004|Alex|open|JavaScript|highlighter|July|02|replaceChild|offset|83".split("|"),0,{}));(function(){typeof(require)!="undefined"?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null;function a(){var b="abs accept alarm atan2 bind binmode chdir chmod chomp chop chown chr chroot close closedir connect cos crypt defined delete each endgrent endhostent endnetent endprotoent endpwent endservent eof exec exists exp fcntl fileno flock fork format formline getc getgrent getgrgid getgrnam gethostbyaddr gethostbyname gethostent getlogin getnetbyaddr getnetbyname getnetent getpeername getpgrp getppid getpriority getprotobyname getprotobynumber getprotoent getpwent getpwnam getpwuid getservbyname getservbyport getservent getsockname getsockopt glob gmtime grep hex index int ioctl join keys kill lc lcfirst length link listen localtime lock log lstat map mkdir msgctl msgget msgrcv msgsnd oct open opendir ord pack pipe pop pos print printf prototype push quotemeta rand read readdir readline readlink readpipe recv rename reset reverse rewinddir rindex rmdir scalar seek seekdir select semctl semget semop send setgrent sethostent setnetent setpgrp setpriority setprotoent setpwent setservent setsockopt shift shmctl shmget shmread shmwrite shutdown sin sleep socket socketpair sort splice split sprintf sqrt srand stat study substr symlink syscall sysopen sysread sysseek system syswrite tell telldir time times tr truncate uc ucfirst umask undef unlink unpack unshift utime values vec wait waitpid warn write";var c="bless caller continue dbmclose dbmopen die do dump else elsif eval exit for foreach goto if import last local my next no our package redo ref require return sub tie tied unless untie until use wantarray while";this.regexList=[{regex:new RegExp("#[^!].*$","gm"),css:"comments"},{regex:new RegExp("^\\s*#!.*$","gm"),css:"preprocessor"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:new RegExp("(\\$|@|%)\\w+","g"),css:"variable"},{regex:new RegExp(this.getKeywords(b),"gmi"),css:"functions"},{regex:new RegExp(this.getKeywords(c),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.phpScriptTags)}a.prototype=new SyntaxHighlighter.Highlighter();a.aliases=["perl","Perl","pl"];SyntaxHighlighter.brushes.Perl=a;typeof(exports)!="undefined"?exports.Brush=a:null})();(function(a,b){(function(d){var f=a.simplegeo;if(f===b){f={}}if(f.Client===b){f.Client=function(g,e){if(!(this instanceof f.Client)){return new f.Client(g,e)}e=e||{};this.token=g;this.options=e;this.host=e.host||"api.simplegeo.com";this.port=e.port||"80";this.apiUrl="http://"+this.host+":"+this.port;this.name="Client"};var c=a.navigator;f.Client.prototype={request:function(h,e,g){e.token=this.token;e=d.param(e)+"&callback=?";d.ajax({url:this.apiUrl+h,dataType:"json",data:e,success:function(k){if(k.error){var l=Error(k.message);l.code=k.code;g(l)}else{g(null,k.data)}},error:function(l,m,k){g(k)}})},getFeature:function(h,e,g){if(g===b){g=e;e={}}return this.request("/1.0/features/"+h+".json",e,g)},watchLocationFromBrowser:function(g,e){if(e===b){e=g;g={}}c&&c.geolocation?c.geolocation.watchPosition(function(h){h.source="navigator";e(null,h)},function(h){e(h)},g):e(Error("navigator.geolocation not available"))},getLocationFromBrowser:function(g,e){if(e===b){e=g;g={}}c&&c.geolocation?c.geolocation.getCurrentPosition(function(h){h.source="navigator";e(null,h)},function(h){e(h)},g):e(Error("navigator.geolocation not available"))},getLocationFromIP:function(h,e){var g;if(e===b){e=h;g="/0.1/locate.json"}else{g="/0.1/locate/"+h+".json"}return this.request(g,{},function(k,l){k?e(k):e(null,{coords:{latitude:l.geometry.coordinates[1],longitude:l.geometry.coordinates[0],accuracy:100000},timestamp:new Date,source:"simplegeo"})})},getLocation:function(h,e){var g=this;if(e===b){e=h;h={}}g.getLocationFromBrowser(h,function(k,l){k?g.getLocationFromIP(e):e(null,l)})}}}f.ContextClient=function(g,e){if(!(this instanceof f.ContextClient)){return new f.ContextClient(g,e)}f.Client.call(this,g,e);this.name="ContextClient"};f.ContextClient.prototype=new f.Client;f.ContextClient.prototype.getContext=function(h,e,g){return this.request("/1.0/context/"+h+","+e+".json",{},g)};f.ContextClient.prototype.getContextFromIP=function(g,e){if(e===b){e=g;g="ip"}return this.request("/1.0/context/"+g+".json",{},e)};f.ContextClient.prototype.getContextFromAddress=function(g,e){return this.request("/1.0/context/address.json",{address:g},e)};a.simplegeo=f})(function(f,p){var k=f.document,s=(new Date).getTime(),t=/=\?(&|$)/,r=/(\?|&)_=.*?(&|$)/,l=/\?/,h=/%20/g,v=Object.prototype.toString,g={isFunction:function(c){return v.call(c)==="[object Function]"},isArray:function(c){return v.call(c)==="[object Array]"},each:function(c,n,j){var e,d=0,m=c.length,o=m===p||g.isFunction(c);if(j){if(o){for(e in c){if(n.apply(c[e],j)===false){break}}}else{for(;d<m;){if(n.apply(c[d++],j)===false){break}}}}else{if(o){for(e in c){if(n.call(c[e],e,c[e])===false){break}}}else{for(j=c[0];d<m&&n.call(j,d,j)!==false;j=c[++d]){}}}return c},param:function(c){function m(n,o){if(g.isArray(o)){g.each(o,function(q,u){/\[\]$/.test(n)?j(n,u):m(n+"["+(typeof u==="object"||g.isArray(u)?q:"")+"]",u)})}else{o!=null&&typeof o==="object"?g.each(o,function(q,u){m(n+"["+q+"]",u)}):j(n,o)}}function j(n,o){o=g.isFunction(o)?o():o;e[e.length]=encodeURIComponent(n)+"="+encodeURIComponent(o)}var e=[];if(g.isArray(c)||c.jquery){g.each(c,function(){j(this.name,this.value)})}else{for(var d in c){m(d,c[d])}}return e.join("&").replace(h,"+")},ajax:function(c){var n,j;if(c.data&&typeof c.data!=="string"){c.data=g.param(c.data)}n=c.jsonpCallback||"jsonp"+s++;if(c.data){c.data=(c.data+"").replace(t,"="+n+"$1")}c.url=c.url.replace(t,"="+n+"$1");f[n]=f[n]||function(q){j=q;c.success&&c.success.call(c,j,void 0);c.complete&&c.complete.call(c,p,void 0);f[n]=p;try{delete f[n]}catch(u){}m&&m.removeChild(o)};var e=(new Date).getTime(),d=c.url.replace(r,"$1_="+e+"$2");c.url=d+(d===c.url?(l.test(c.url)?"&":"?")+"_="+e:"");c.url+=(l.test(c.url)?"&":"?")+c.data;var m=k.getElementsByTagName("head")[0]||k.documentElement,o=k.createElement("script");o.src=c.url;m.insertBefore(o,m.firstChild);return p}};return g}(a))})(window);Ext.ns("Pad");var Util={loadPage:function(b){var c=b.split(/\//);c.shift();for(var a=0;a<c.length;a++){c[a]=unescape(c[a].replace(/\+/g," "))}if(c[0]=="mirrors"){Pad.UI.TabPanel.add(new Pad.Mirrors)}else{if(c[0]=="recent"){Pad.UI.TabPanel.add(new Pad.Recent)}else{if(c[0]=="home"){Pad.UI.TabPanel.add(new Pad.Home)}else{if(c[0]=="search"){Pad.UI.TabPanel.add(new Pad.Search({query:c[1]||""}))}else{if(c[0]=="pod"&&c.length>3){c.shift();Pad.UI.TabPanel.add(new Pad.Reader.Pod({author:c.shift(),release:c.shift(),path:c.join("/"),}))}else{if(c[0]=="pod"&&c.length==2){Pad.UI.TabPanel.add(new Pad.Reader.Pod({title:c[1]}))}else{if(c[0]=="author"){Pad.UI.TabPanel.add(new Pad.Author({title:c[1]}))}}}}}}}},location:null,getLocation:function(a){if(Util.location){return a(Util.location)}var b=new simplegeo.ContextClient("rGXAMBGT59UEhynt9q6qHDsFDJBpFJYk");return b.getLocationFromIP(function(c,d){Util.location=d;a(d);b.getLocationFromBrowser({enableHighAccuracy:true,maximumAge:60000},function(e,f){Util.location=f;a(f)})})},dateRenderer:function(a){if(!a){return"undefined"}return Date.parseDate(a,"c").format("j M Y")},dateTimeRenderer:function(a){if(!a){return"undefined"}return Date.parseDate(a,"c").format("j M Y, H:i:s")},currencyRenderer:function(a){return Ext.util.Format.number(a,"0.0,00")+" €"},boolRenderer:function(b){var a=b&&b!=0?'checked="cheked"':"";return'<input type="checkbox" disabled="disabled"'+a+" />"},percentageRenderer:function(a){return Ext.util.Format.number(a*100,"0.0,00")+" %"},distanceRenderer:function(a){return Ext.util.Format.number(a,"0.0,")+" km"},taxRenderer:function(b,c,a){return Util.boolRenderer(a.data.tax_included)+" &nbsp;&nbsp; "+Ext.util.Format.number(b*100,"0.0/i")+" %"},urlRenderer:function(a){return'<a href="/page/'+a+'" target="_blank">'+a+"</a>"},authorRenderer:function(a){return'<a href="#/author/'+a+'">'+a+"</a>"},protocolRenderer:function(b,c,a){var d=[];if(a.data.http){d.push('<a href="'+a.data.http+'" target="_blank">http</a>')}if(a.data.ftp){d.push('<a href="'+a.data.ftp+'" target="_blank">ftp</a>')}if(a.data.rsync){d.push('<a href="'+a.data.rsync+'" target="_blank">rsync</a>')}return d.join(" ")}};var API={url:window.location.host&&(window.location.hostname!="127.0.0.1"&&window.location.hostname!="localhost")?"http://api.netcubed.de":"http://localhost:5000"};var Author;Author={details:function(c,a,b){Ext.Ajax.request({url:API.url+"/author/"+c.id,success:function(e){var d=Ext.decode(e.responseText);a(d)}})},schwartz:function(c,a,b){Ext.Ajax.request({url:API.url+"/release/_search",jsonData:{query:{match_all:{}},facets:{schwartz:{terms:{script_field:'_source.author + "/" + _source.distribution'},facet_filter:{term:{author:c.id}}}}},success:function(e){var d=Ext.decode(e.responseText);a(d)}})},search:function(b,a){Ext.Ajax.request({url:API.url+"/author/_search",jsonData:{size:20,fields:["pauseid","name"],query:{dis_max:{tie_breaker:0.7,queries:[{field:{name:{query:b.query+"*",boost:0.9}}},{prefix:{pauseid:b.query.toUpperCase()}}]}}},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){c.push(d[e].fields)}a(c)}})}};var File;File={source:function(d,b,f,a){var c=0;var e={};Ext.Ajax.request({url:API.url+"/file/"+[d,b,f].join("/"),success:function(h){var g=Ext.decode(h.responseText);Ext.copyTo(e,g,["sloc","slop","pod_lines","stat"]);c++;if(c==2){a(e)}}});Ext.Ajax.request({url:API.url+"/source/"+[d,b,f].join("/"),success:function(g){e.source=g.responseText;c++;if(c==2){a(e)}}})}};var Mirror={byLocation:function(c,a){if(!c.coords){return Util.getLocation(function(d){Ext.apply(c,d);Mirror.byLocation(c,a)})}var b=[];Ext.each(["http","ftp","rsync"],function(d){if(!c[d]){return}b.push({not:{filter:{missing:{field:d}}}})});Ext.Ajax.request({url:API.url+"/mirror/_search",jsonData:{size:c.limit||50,from:c.start||0,query:{match_all:{}},filter:{or:b},fields:c.fields,sort:{_geo_distance:{location:[c.coords.longitude,c.coords.latitude],order:"asc",unit:"km"}}},success:function(g){g=Ext.decode(g.responseText);var e=g.hits.hits;var d=[];for(var f=0;f<e.length;f++){e[f].fields.distance=e[f].sort[0];d.push(e[f].fields)}a({data:d,total:g.hits.total})}})}};var Module;Module={list:function(){},get:function(b,a){Ext.Ajax.request({url:API.url+"/module/"+b,success:function(c){var d=Ext.decode(c.responseText);a(d)}})},pod:function(c,a){if(!c.path){return Module.get(c.name,function(d){if(d.path){Module.pod(d,a)}})}var b=0;Ext.Ajax.request({url:API.url+"/file/"+[c.author,c.release,c.path].join("/"),success:function(e){var d=Ext.decode(e.responseText);Ext.copyTo(c,d,["toc","module"]);b++;if(b==2){a(c)}}});Ext.Ajax.request({url:API.url+"/pod/"+[c.author,c.release,c.path].join("/"),success:function(d){c.html=d.responseText;b++;if(b==2){a(c)}}})},code:function(c,a){if(!c.path){return Module.get(c.name,function(d){if(d.path){Module.code(d,a)}})}var b=0;Ext.Ajax.request({url:API.url+"/file/"+[c.author,c.release,c.path].join("/"),success:function(e){var d=Ext.decode(e.responseText);Ext.copyTo(c,d,["sloc","slop","pod_lines","stat"]);b++;if(b==2){a(c)}}});Ext.Ajax.request({url:API.url+"/source/"+[c.author,c.release,c.path].join("/"),success:function(d){c.source=d.responseText;b++;if(b==2){a(c)}}})},search:function(e,a){e.query=e.query.replace(/::/g," ");var c=e.query.split(/ /);var d=[];for(var b=0;b<c.length;b++){d[b]={field:{name:c[b]+"*",}}}Ext.Ajax.request({url:API.url+"/module/_search",jsonData:{size:20,query:{custom_score:{query:{bool:{should:d}},script:"_score / doc['name.raw'].stringValue.length()"}},filter:{term:{status:"latest"}},fields:["name","release","author","file"]},success:function(j){var k=Ext.decode(j.responseText);var g=k.hits.hits;var f=[];for(var h=0;h<g.length;h++){f.push(g[h].fields)}a(f)}})}};var Release;Release={search:function(b,a){if(!b.query){return}Ext.Ajax.request({url:API.url+"/file/_search",jsonData:{size:b.limit||50,from:b.start||0,query:{query_string:{fields:["pod","abstract^5"],query:b.query,default_operator:"AND",allow_leading_wildcard:false}},filter:{and:[{term:{indexed:true}},{term:{status:"latest"}},{not:{filter:{missing:{field:"pod"}}}}]},highlight:{fields:{module:{},"abstract":{number_of_fragments:0},pod:{number_of_fragments:5,}},order:"score",pre_tags:["<b>"],post_tags:["</b>"],},fields:b.fields},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){d[e].fields.highlight=d[e].highlight;c.push(d[e].fields)}a({data:c,total:g.hits.total})}})},documentation:function(b,a){Ext.Ajax.request({url:API.url+"/file/_search",jsonData:{size:b.limit||50,from:b.start||0,query:{match_all:{}},filter:{and:[{term:{release:b.release}},{term:{author:b.author}},{term:{indexed:true}},{not:{filter:{missing:{field:"pod"}}}}]},sort:["module"],fields:["module","name","path","id","release","author"]},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){c.push(d[e].fields)}a({data:c,total:g.hits.total})}})},recent:function(b,a){Ext.Ajax.request({url:API.url+"/release/_search",jsonData:{size:b.limit||50,from:b.start||0,query:{match_all:{}},sort:[{date:{reverse:true}}],fields:["name","version","abstract","date","distribution","download_url"]},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){d[e].fields.day=Date.parseDate(d[e].fields.date,"c");c.push(d[e].fields)}a({data:c,total:g.hits.total})}})},byAuthor:function(b,a){Ext.Ajax.request({url:API.url+"/release/_search",jsonData:{size:b.limit||50,from:b.start||0,query:{match_all:{}},filter:{term:{author:b.author,}},sort:["distribution",{version_numified:{reverse:true}}],fields:["name","version","abstract","date","distribution"]},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){c.push(d[e].fields)}a({data:c,total:g.hits.total})}})},dependencies:function(b,a){Ext.Ajax.request({url:API.url+"/dependency/_search",jsonData:{size:1000,query:{match_all:{}},filter:{and:[{term:{author:b.author,}},{term:{release:b.release,}},{term:{phase:"runtime",}},]},sort:["module"],fields:["module","version"]},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){c.push(d[e].fields)}a(c)}})},files:function(b,a){Ext.Ajax.request({url:API.url+"/file/_search",jsonData:{size:1000,query:{match_all:{}},filter:{and:[{term:{level:b.level}},{term:{author:b.author}},{term:{release:b.release}},{prefix:{path:b.prefix}}]},fields:["module","path","level","name","directory"]},success:function(f){var g=Ext.decode(f.responseText);var d=g.hits.hits;var c=[];for(var e=0;e<d.length;e++){var h=d[e].fields;c.push({text:h.name,module:h.module,path:h.path,level:h.level,leaf:h.directory=="true"?false:true})}a(c)}})},};Ext.ns("Pad.CardPortlet");Pad.CardPortlet=Ext.extend(Ext.Panel,{layout:"card",cls:"x-portlet",height:200,activeItem:0,anchor:"100%",frame:true,identifier:"distribution",collapsible:true,draggable:true,add:function(e,b){var d=this.find(this.identifier,e[this.identifier]);if(d&&d[0]){if(b){d[0].references++}this.onLoad();return this.activate(d[0])}if(Ext.isArray(e)){return}e=Ext.ComponentMgr.create(e);var a=Pad.CardPortlet.superclass.add.call(this,e);a.on("beforeload",this.onBeforeLoad,this);a.on("load",this.onLoad,this);a.on("exception",this.onLoad,this);this.activate(e);return e},remove:function(b){var a=this.find(this.identifier,b[this.identifier]);if(!a||!a[0]){return}a[0].references--;if(a[0].references){return}return Pad.CardPortlet.superclass.remove.call(this,a[0])},activate:function(a){if(this.rendered){this.layout.setActiveItem(a)}},initComponent:function(){this.initTools();this.plugins=new Ext.ux.PanelResizer({minHeight:100});Pad.CardPortlet.superclass.initComponent.call(this)},initTools:function(){this.addTool({id:"down",handler:this.showMenu.createDelegate(this,[])})},onBeforeLoad:function(a){if(this.iconCls!="silk-loading"){this.oldIconCls=this.iconCls}this.setIconClass("silk-loading")},onLoad:function(a){this.setIconClass(this.oldIconCls)},onException:function(b,c,d,a){console.log(b,c,d,a)},selectFromMenu:function(a){var b={};b[this.identifier]=a.text;this.add(b)},showMenu:function(){var b=new Ext.menu.Menu();var a=this;this.items.each(function(d){b.add({text:d[a.identifier],iconCls:"silk-bricks",handler:a.selectFromMenu,scope:a})});if(this.items.length){b.show(this.getTool("down"))}},});Pad.DataProxy=Ext.extend(Ext.data.DataProxy,{doRequest:function(e,b,f,a,g,d,c){this.api[e](f,(function(h){this.fireEvent("load");g.call(d,{records:a.extractData(Ext.isArray(h)?h:h.data,true),success:true,totalRecords:Ext.isArray(h)?h.length:h.total},c,true)}).createDelegate(this))},});Pad.Files=Ext.extend(Ext.tree.TreePanel,{autoScroll:true,rootVisible:true,anchor:"100%",animate:false,xtype:"padfiles",references:0,cls:"x-portlet",initComponent:function(){var b=this;Ext.apply(this,{root:{id:this.author+"/"+this.release,text:this.author+"/"+this.release,expanded:true,level:-1,}});Pad.Files.superclass.initComponent.call(this,arguments);var a=this.iconCls;this.on("click",this.onClick,this);this.on("load",this.onLoad,this)},loader:new Ext.tree.TreeLoader({load:function(e,b,c){var a=e.ownerTree;var d=this;var f=e.attributes.level+1;Release.files({author:a.author,release:a.release,level:f,prefix:f==0?"":e.attributes.path},function(g){d.handleResponse({responseData:Ext.isArray(g)?g:null,responseText:g,argument:{node:e,callback:b,scope:c}})})}}),onRender:function(a){Pad.Files.superclass.onRender.call(this,a);new Ext.tree.TreeSorter(this,{folderSort:true})},onLoad:function(){if(!this.root.firstChild){return this.root.on("expand",this.destroy,this)}},onClick:function(c,d){var a;if(c.hasChildNodes()){return c.toggle()}var b=c.attributes.path;if(c.attributes.module&&!d.shiftKey){a=new Pad.Reader.Pod({title:c.attributes.module,release:this.release,author:this.author,path:b,})}else{if(c.attributes.module){a=new Pad.Reader.Source.Code({title:c.attributes.module,release:this.release,author:this.author,path:b,})}else{a=new Pad.Reader.Source({title:c.attributes.text,author:this.author,release:this.release,path:b,})}}Pad.UI.TabPanel.add(a)}});Ext.reg("padfiles",Pad.Files);Ext.ns("Pad.FilesPanel");Pad.FilesPanel=Ext.extend(Pad.CardPortlet,{identifier:"release",title:"Files",iconCls:"silk-bricks",});Pad.GoToComboBox=Ext.extend(Ext.form.ComboBox,{expand:function(){},afterRender:function(){Pad.GoToComboBox.superclass.afterRender.call(this,arguments);this.list.setStyle({left:null,top:null,height:null,width:null,position:null,"border-width":0});this.list.first().setStyle({width:null,height:121,overflow:"auto","border-width":0});this.keyNav.enter=function(a){this.shift=a.shiftKey;this.onViewClick()};this.keyNav.esc=null},collapse:function(){},restrictHeight:function(){},});Pad.GoTo=Ext.extend(Ext.Window,{layout:"border",width:300,iconCls:"silk-package",height:200,border:false,tpl:'<tpl for="."><div class="x-combo-list-item">{name}</div></tpl>',store:{root:"data",fields:["pauseid","name","release","file"],},combo:{region:"north",height:20,xtype:"combo",minChars:2,queryDelay:100,maxHeight:50,shadow:false,loadingText:null,valueField:"name",displayField:"name",triggerAction:"all",lazyInit:false,hideTrigger:true,listeners:{afterrender:function(a){a.focus(true,100)},}},list:{region:"center",title:"Results",},initComponent:function(){var a=this;this.combo=new Pad.GoToComboBox(Ext.applyIf({tpl:this.tpl},this.combo));this.list=new Ext.Panel(this.list);this.store.proxy=new Pad.DataProxy({api:{read:this.api}}),this.combo.store=new Ext.data.JsonStore(this.store);Ext.apply(this,{items:[this.combo,this.list]});Pad.GoTo.superclass.initComponent.call(this,arguments)},initEvents:function(){Pad.GoTo.superclass.initEvents.call(this,arguments);var a=this;this.combo.on("select",this.onSelect,this);this.combo.getStore().on("beforeload",function(){a.setIconClass("silk-loading")});this.combo.getStore().on("load",function(){a.setIconClass("silk-package")});this.combo.on("specialkey",function(b){console.log(b)})},afterRender:function(){Pad.GoTo.superclass.afterRender.call(this,arguments);this.combo.list.appendTo(this.list.body);this.combo.list.show()}});Pad.GoTo.Author=Ext.extend(Pad.GoTo,{title:"Go to author",api:Author.search,tpl:'<tpl for="."><div class="x-combo-list-item">{pauseid} <div style="float:right">({name})</div></div></tpl>',onSelect:function(b,a){Pad.UI.TabPanel.add(new Pad.Author({title:a.get("pauseid")}));this.close()}});new Ext.KeyMap(document,{key:"a",ctrl:false,shift:false,alt:false,fn:function(b,c){if(c.target.tagName=="INPUT"){return}(new Pad.GoTo.Author()).show();c.preventDefault()},});Pad.GoTo.Module=Ext.extend(Pad.GoTo,{title:"Go to module",api:Module.search,onSelect:function(c,b){var a;if(c.shift){a=new Pad.Reader.Source.Code({title:b.data.name,release:b.data.release,path:b.data.path,})}else{a=new Pad.Reader.Pod({title:b.data.name,release:b.data.release,path:b.data.path,})}Pad.UI.TabPanel.add(a);this.close()}});new Ext.KeyMap(document,{key:"m",ctrl:false,shift:false,alt:false,fn:function(b,c){if(c.target.tagName=="INPUT"){return}(new Pad.GoTo.Module()).show();c.preventDefault()}});Pad.GridPanel=Ext.extend(Ext.grid.GridPanel,{api:null,stripeRows:true,viewConfig:{},rowNumberer:true,store:{autoLoad:true,remoteSort:true,baseParams:{limit:50},root:"data",groupField:"distribution",},buildFields:function(){var a=[];for(var b=0;b<this.cm.length;b++){a.push(this.cm[b].dataIndex)}return a},initComponent:function(){if(!this.fields){this.fields=this.buildFields()}Ext.apply(this.store,{listeners:{exception:this.onException.createDelegate(this)},reader:new Ext.data.JsonReader({fields:this.fields}),proxy:new Pad.DataProxy({api:this.api}),groupField:this.groupField,sortInfo:this.sortInfo,baseParams:{fields:this.fields}});this.store=new Ext.data.GroupingStore(this.store);this.view=new Ext.grid.GroupingView(this.viewConfig);if(this.rowNumberer&&this.cm[0].id!="numberer"){this.cm.unshift(new Ext.grid.RowNumberer({width:28}))}Ext.apply(this,{region:"center",cm:new Ext.grid.ColumnModel(this.cm),store:this.store,bbar:new Ext.PagingToolbar({pageSize:50,store:this.store,displayInfo:true,})});Pad.GridPanel.superclass.initComponent.call(this,arguments);this.initEvents()},initEvents:function(){this.store.on("load",this.onLoad,this)},onLoad:function(a){},onException:function(d,e,f,c,b,a){Ext.Msg.show({title:"Fehler",msg:"Die Suche konnte nicht ausgeführt werden.",buttons:Ext.Msg.OK,icon:Ext.Msg.ERROR});this.onLoad()}});Pad.GridPanel.Mirror=Ext.extend(Pad.GridPanel,{title:"Mirrors",iconCls:"silk-page",api:{read:Mirror.byLocation},autoExpandColumn:"org",cm:[{header:"Name",width:100,sortable:false,dataIndex:"name"},{header:"Organization",id:"org",sortable:false,dataIndex:"org"},{header:"City",width:100,sortable:false,dataIndex:"city"},{header:"Region",width:100,sortable:false,dataIndex:"region",hidden:true},{header:"Country",width:100,sortable:false,dataIndex:"country"},{header:"Continent",width:100,sortable:false,dataIndex:"continent"},{header:"Protocols",width:90,sortable:false,dataIndex:"none",renderer:Util.protocolRenderer},{header:"Distance",width:70,sortable:false,dataIndex:"distance",align:"right",renderer:Util.distanceRenderer,},{dataIndex:"http",hidden:true},{dataIndex:"rsync",hidden:true},{dataIndex:"ftp",hidden:true},{dataIndex:"location",hidden:true},{header:"Inception",width:90,sortable:false,dataIndex:"inceptdate",align:"right",renderer:Util.dateRenderer},],initComponent:function(){this.tbar=["->","Toggle protocols:",{text:"http",enableToggle:true,handler:this.toggleProtocol,scope:this,pressed:true}," ",{text:"ftp",enableToggle:true,handler:this.toggleProtocol,scope:this,pressed:true}," ",{text:"rsync",enableToggle:true,handler:this.toggleProtocol,scope:this,pressed:true}];Pad.GridPanel.Mirror.superclass.initComponent.call(this,arguments);this.store.on("beforeload",this.loadProtocols,this)},loadProtocols:function(a){this.getTopToolbar().items.each(function(b){a.setBaseParam(b.text,b.pressed)});a.setBaseParam("limit",20000)},toggleProtocol:function(){this.store.reload()},onRender:function(a){Pad.GridPanel.Mirror.superclass.onRender.call(this,a);Util.getLocation(this.getStore().load.createDelegate(this.getStore()));this.getBottomToolbar().hide()},});Ext.reg("padgridpanelmirror",Pad.GridPanel.Mirror);Pad.GridPanel.Release=Ext.extend(Pad.GridPanel,{title:"Releases",iconCls:"silk-page",api:{read:Release.search},autoExpandColumn:"abstract",cm:[{header:"Release",width:220,sortable:false,dataIndex:"name",renderer:Ext.util.Format.htmlEncode},{header:"Abstract",sortable:false,dataIndex:"abstract",id:"abstract",renderer:Ext.util.Format.htmlEncode},{header:"Distribution",hidden:true,sortable:false,dataIndex:"distribution",renderer:Ext.util.Format.htmlEncode},{header:"",width:70,sortable:false,dataIndex:"none",align:"center",renderer:function(c,a,b){return'<a href="'+b.data.download_url+'">Download</a>'}},{header:"Date",hidden:true,sortable:false,dataIndex:"day",renderer:Ext.util.Format.dateRenderer("l, jS F Y")},{header:"Released",width:120,sortable:false,dataIndex:"date",align:"right",renderer:Util.dateTimeRenderer},],fields:["day","name","abstract","date","distribution","download_url"],initEvents:function(){this.on("rowdblclick",this.onRowDblClick,this);Pad.GridPanel.Release.superclass.initEvents.call(this,arguments)},onRowDblClick:function(c,a,d){var f=this.getStore().getAt(a);var b=f.get("distribution").replace(/-/g,"::");Pad.UI.TabPanel.add(new Pad.Reader.Pod({title:b}))},});Ext.reg("padgridpanelrelease",Pad.GridPanel.Release);Pad.GridPanel.Search=Ext.extend(Pad.GridPanel,{title:"Releases",iconCls:"silk-page",api:{read:Release.search},autoExpandColumn:"name",resultTpl:"{module}",rowNumberer:false,viewConfig:{enableRowBody:true,getRowClass:function(c,e,b,d){var a;if(c.data.highlight&&c.data.highlight.pod){a=c.data.highlight.pod.join(" ... ")}b.body='<br><p style="color: #666">'+a+"</p>";return"x-grid3-row-expanded"}},cm:[{header:"Description",sortable:false,width:220,id:"name",dataIndex:"module",renderer:function(a,c,b){return'<div class="pad-search-result"><strong>'+(a||b.data.path)+"</strong><p>"+b.data["abstract"]+"</p>"}},{header:"Release",width:160,sortable:false,dataIndex:"release",renderer:Ext.util.Format.htmlEncode},{header:"Author",width:80,sortable:false,dataIndex:"author",renderer:Util.authorRenderer},],fields:["module","path","abstract","release","author","highlight"],initEvents:function(){this.on("rowdblclick",this.onRowDblClick,this);Pad.GridPanel.Search.superclass.initEvents.apply(this,arguments)},onRowDblClick:function(c,a,d){var f=this.getStore().getAt(a);var b=f.get("module");Pad.UI.TabPanel.add(new Pad.Reader.Pod({title:b}))},});Ext.reg("padgridpanelsearch",Pad.GridPanel.Search);Pad.Panel=Ext.extend(Ext.Panel,{closable:true,identifier:["title"],xtype:"padpanel",loaded:false,setToken:function(){Ext.History.add(["",this.title.toLowerCase()].join("/"))},initComponent:function(){Pad.Panel.superclass.initComponent.apply(this,arguments);this.initEvents()},initEvents:function(){},onBeforeLoad:function(){this.loaded=false;if(this.iconCls!="silk-loading"){this.oldIconCls=this.iconCls}this.setIconClass("silk-loading")},onLoad:function(a){this.setIconClass(this.oldIconCls);this.loaded=true},});Pad.Author=Ext.extend(Pad.Panel,{iconCls:"silk-user",layout:"border",identifier:["title"],xtype:"padauthor",controller:"author",overview:{region:"north",xtype:"panel",height:200,border:false,padding:20,tpl:['<div class="pad-author-overview">','<img src="{gravatar_url}?s=160" class="pad-author-img">','<div class="pod pad-author-id"><h1>{name}</h1> {pauseid}</div>','<a href="mailto:{email}" class="pad-author-email">{email}</a>',"<br><br>",'<table><tr><td>BackPAN Archive:</td><td><a href="http://backpan.perl.org/authors/{dir}/" target="_blank">{dir}</a></td></tr>',"<tr><td>Schwartz Factor:</td><td>",'<a href="http://use.perl.org/~brian_d_foy/journal/8314" target="_blank"><span id="pad-author-schwartz-{pauseid}"><i>loading...</i></span></a></td></tr></table>',"</div>"]},grid:{region:"center",border:false,xtype:"padgridpanelrelease",api:{read:Release.byAuthor},groupField:"distribution",},initComponent:function(){this.grid=Ext.ComponentMgr.create(this.grid);this.overview=Ext.ComponentMgr.create(this.overview);this.items=[this.overview,this.grid],this.grid.store.setBaseParam("author",this.title);Pad.Author.superclass.initComponent.call(this,arguments)},afterRender:function(){Pad.Author.superclass.afterRender.apply(this,arguments);Author.details({id:this.title},this.renderDetails.createDelegate(this))},renderDetails:function(a){this.overview.update(a);Author.schwartz({id:this.title},this.injectSchwartz.createDelegate(this))},injectSchwartz:function(d){var e=d.facets.schwartz.terms;var b=0;for(var c=0;c<e.length;c++){b+=e[c].count}var a=e.length/b;Ext.get("pad-author-schwartz-"+this.title).dom.innerHTML=Ext.util.Format.number(a,"0.0000")},initEvents:function(){this.grid.getStore().on("load",this.onLoad,this);this.grid.getStore().on("beforeload",this.onBeforeLoad,this)},setToken:function(){Ext.History.add(["",this.controller,this.title].join("/"))},});Pad.Home=Ext.extend(Pad.Panel,{iconCls:"silk-house",identifier:["title"],xtype:"padhome",controller:"home",title:"Home",autoLoad:"home.htm",closable:false,afterRender:function(){Pad.Home.superclass.afterRender.apply(this,arguments);this.body.getUpdater().on("update",this.onLoad,this);this.body.getUpdater().on("beforeupdate",this.onBeforeLoad,this)}});new Ext.KeyMap(document,{key:"h",ctrl:false,shift:false,alt:false,fn:function(b,c){if(c.target.tagName=="INPUT"){return}Pad.UI.TabPanel.add(new Pad.Home);c.preventDefault()},});Pad.Mirrors=Ext.extend(Pad.Panel,{iconCls:"silk-server",layout:"border",title:"Mirrors",map:{xtype:"gmappanel",region:"south",split:true,zoomLevel:1,height:300,gmapType:"map",mapConfOpts:["enableScrollWheelZoom","enableDoubleClickZoom","enableDragging"],mapControls:["GSmallMapControl","GMapTypeControl","NonExistantControl"],setCenter:{lat:0,lng:0}},grid:{region:"center",border:false,title:null,xtype:"padgridpanelmirror",api:{read:Mirror.byLocation},},initComponent:function(){this.grid=Ext.ComponentMgr.create(this.grid);this.map=Ext.ComponentMgr.create(this.map);this.items=[this.map,this.grid],Pad.Author.superclass.initComponent.call(this,arguments)},initEvents:function(){this.grid.getStore().on("load",this.onLoad,this);this.grid.getStore().on("beforeload",this.onBeforeLoad,this);this.grid.getStore().on("load",this.setMarkers,this);this.grid.on("rowdblclick",this.centerMap,this)},centerMap:function(c,b,d){var g=c.getStore().getAt(b);var f=g.data.location;var a=new GLatLng(f[1],f[0]);this.map.getMap().setCenter(a,8)},setMarkers:function(j,b){var f=Util.location;var g=new GLatLng(f.coords.latitude,f.coords.longitude);var a=new GIcon(G_DEFAULT_ICON);a.image="http://www.google.com/intl/en_us/mapfiles/ms/micons/blue-dot.png";this.map.zoomLevel=5;this.map.addMarker(g,{icon:a},true,true);for(var d=0;d<b.length;d++){var c=b[d].data;var e=c.location;if(!e){continue}var h=new GLatLng(e[1],e[0]);this.map.addMarker(h)}},});Pad.Recent=Ext.extend(Pad.Panel,{title:"Recent",layout:"border",iconCls:"silk-new",grid:{region:"center",border:false,xtype:"padgridpanelrelease",title:null,api:{read:Release.recent},sortInfo:{field:"date",direction:"DESC"},groupField:"day",},initComponent:function(){this.grid=Ext.ComponentMgr.create(this.grid);this.items=[this.grid],Pad.Recent.superclass.initComponent.call(this,arguments)},initEvents:function(){this.grid.getStore().on("load",this.onLoad,this);this.grid.getStore().on("beforeload",this.onBeforeLoad,this)},});new Ext.KeyMap(document,{key:"r",ctrl:false,shift:false,alt:false,fn:function(b,c){if(c.target.tagName=="INPUT"){return}Pad.UI.TabPanel.add(new Pad.Recent);c.preventDefault()},});Pad.Search=Ext.extend(Pad.Panel,{iconCls:"silk-zoom",layout:"border",identifier:["query"],title:"New Search",query:"",xtype:"padsearch",controller:"search",search:{region:"north",layout:"form",xtype:"panel",height:200,border:false,items:[{xtype:"textfield",enableKeyEvents:true,fieldLabel:"Search",name:"search"},{xtype:"checkboxgroup",items:[{boxLabel:"POD",checked:true,},{boxLabel:"Abstract",checked:true,},{boxLabel:"Indexed only",checked:true,}]}]},grid:{region:"center",autoLoad:false,border:false,xtype:"padgridpanelsearch",api:{read:Release.search},},initComponent:function(){this.grid=Ext.ComponentMgr.create(this.grid);this.search=Ext.ComponentMgr.create(this.search);this.field=this.search.find("name","search")[0];this.items=[this.search,this.grid],this.grid.store.setBaseParam("author",this.title);Pad.Search.superclass.initComponent.call(this,arguments);if(this.query){this.field.setValue(this.query);this.updateTitle();this.grid.getStore().setBaseParam("query",this.query);this.grid.store.load()}},afterRender:function(){Pad.Search.superclass.afterRender.apply(this,arguments);this.field.focus(true,100)},updateTitle:function(b,a){this.query=this.field.getValue();if(this.query){this.setTitle('"'+Ext.util.Format.htmlEncode(this.query)+'"')}else{this.setTitle("New Search")}},initEvents:function(){this.grid.getStore().on("load",this.onLoad,this);this.grid.getStore().on("beforeload",this.onBeforeLoad,this);this.field.on("keyup",this.updateTitle,this);this.field.on("specialkey",this.doSearch,this)},doSearch:function(b,a){this.updateTitle(b,a);if(a.getCharCode()!=13){return}this.setToken();this.grid.getStore().setBaseParam("query",this.query);this.grid.getStore().load()},setToken:function(){Ext.History.add(["",this.controller,this.query].join("/"))}});new Ext.KeyMap(document,{key:"s",ctrl:false,shift:false,alt:false,fn:function(b,c){if(c.target.tagName=="INPUT"){return}Pad.UI.TabPanel.add(new Pad.Search);c.preventDefault()},});Pad.Portlet=Ext.extend(Ext.Panel,{});Pad.Portlet.DataView=Ext.extend(Pad.Panel,{references:0,autoScroll:true,loaded:false,view:{singleSelect:true,overClass:"pad-related-item-selected",itemSelector:".pad-related-item",emptyText:"",deferEmptyText:false,autoScroll:true,tpl:'<tpl for="."><div class="pad-related-item"><tpl if="module">{module}</tpl><tpl if="!module">{path}</tpl> <tpl if="version &gt; 0">{version}</tpl></div></tpl>',},store:{root:"data",fields:["module","version","name","path","id","release","author"],},initComponent:function(){Pad.Portlet.DataView.superclass.initComponent.call(this,arguments);this.store=new Ext.data.JsonStore(Ext.applyIf({fields:this.fields,proxy:new Pad.DataProxy({api:{read:this.api}})},this.store));this.view=new Ext.DataView(Ext.applyIf({tpl:this.tpl},this.view));this.view.on("click",this.onClick);this.store.on("load",this.onLoad,this);this.addEvents("load");this.relayEvents(this.store.proxy,["beforeload","exception"])},onLoad:function(){this.loaded=true;this.fireEvent("load")},afterRender:function(){Pad.Portlet.DataView.superclass.afterRender.call(this,arguments);this.view.render(this.body);this.view.bindStore(this.store);this.store.load({params:{author:this.author,release:this.release}})},onException:function(a){this.destroy()},onClick:function(a,b,f,d){var c=a.getSelectedRecords()[0].data;if(d.shiftKey){pod=new Pad.Reader.Source.Code({title:c.module||c.name,file_id:c.id,release:c.release,author:c.author,path:c.path,})}else{pod=new Pad.Reader.Pod({title:c.module||c.name,file_id:c.id,release:c.release,author:c.author,path:c.path,})}Pad.UI.TabPanel.add(pod)}});Ext.reg("padportletdataview",Pad.Portlet.DataView);Pad.Portlet.ServerPortlet=Ext.extend(Ext.Panel,{cls:"x-portlet",height:80,title:"Select Server",iconCls:"silk-wrench",frame:true,initComponent:function(){this.items=[{xtype:"combo",lazyRender:true,triggerAction:"all",mode:"local",value:API.url,store:new Ext.data.ArrayStore({id:0,fields:["value"],data:[["http://api.netcubed.de"],["http://api2.metacpan.org"],["http://localhost:5000"]]}),displayField:"value",listeners:{change:this.onChange,select:this.onChange}}];Pad.Portlet.ServerPortlet.superclass.initComponent.call(this,arguments)},onChange:function(a){API.url=a.getValue()}});Ext.ns("Pad.Reader");Pad.Reader=Ext.extend(Pad.Panel,{title:"Pad.Reader",xtype:"padreader",loaded:false,identifier:["author","release","path"],scrollCache:{top:0,left:0},initComponent:function(){if(this.path){this.title=this.path}Pad.Reader.superclass.initComponent.call(this,arguments);this.initEvents()},initEvents:function(){this.addEvents("load")},afterRender:function(){Pad.Reader.superclass.afterRender.call(this,arguments);this.ownerCt.on("beforetabchange",this.onDeactivate,this);this.on("activate",this.onActivate,this)},setToken:function(){if(!this.loaded){return this.on("load",this.setToken,this)}Ext.History.add("/"+[this.controller,this.author,this.release,this.path].join("/"))},onDeactivate:function(c,b,a){if(!a||a!=this){return}this.scrollCache=this.body.getScroll()},onActivate:function(c,b,a){this.body.scrollTo("top",this.scrollCache.top);if(this.loaded){Pad.UI.FilesPanel.add({author:this.author,release:this.release,xtype:"padfiles"});Pad.UI.RelatedPanel.add({author:this.author,release:this.release,xtype:"padrelated"})}else{Pad.UI.FilesPanel.onBeforeLoad();Pad.UI.RelatedPanel.onBeforeLoad()}},onRender:function(a){Pad.Reader.superclass.onRender.call(this,a);this.oldIconCls=this.iconCls;this.setIconClass("silk-loading")},onLoad:function(a){this.setIconClass(this.oldIconCls);if(a){Ext.copyTo(this,a,["path","release","author","module"]);Ext.fly(this.ownerCt.getTabEl(this)).child("span.x-tab-strip-text",true).qtip=[this.author,this.release,this.path].join("/");this.setTitle(this.module||this.path);Pad.UI.FilesPanel.add({author:this.author,release:this.release,xtype:"padfiles",references:1},true);Pad.UI.RelatedPanel.add({author:this.author,release:this.release,xtype:"padrelated",references:1},true)}else{this.path=this.title;this.body.update("Not Found")}this.loaded=true;this.fireEvent("load")}});Ext.ns("Pad.Reader.Pod");Pad.Reader.Pod=Ext.extend(Pad.Reader,{title:"Pad.Reader",autoScroll:true,controller:"pod",iconCls:"silk-package",padding:"5px 5px 5px 25px",xtype:"padreaderpod",closable:true,tbar:[{iconCls:"silk-star",enableToggle:true,tooltip:"Add to favorites"},"->",{iconCls:"silk-page-white-code",text:"Source Code",handler:function(){var a=new Pad.Reader.Source.Code({title:this.ownerCt.ownerCt.title,release:this.ownerCt.ownerCt.release,author:this.ownerCt.ownerCt.author,path:this.ownerCt.ownerCt.path,});Pad.UI.TabPanel.add(a)}},{iconCls:"silk-bug",text:"Report Bug"},{iconCls:"silk-award-gold",text:"Rate Distribution"},{iconCls:"silk-wrench",text:"Tools",menu:[{text:"Diff Releases"},{text:"Grep Release"}]},{iconCls:"silk-printer",tooltip:"Print document"}],initComponent:function(){Pad.Reader.Pod.superclass.initComponent.call(this,arguments);Ext.apply(this,{toc:new Pad.Reader.TOC.Pod({})})},onRender:function(a){Pad.Reader.Pod.superclass.onRender.call(this,a);var b=this;Module.pod({file_id:this.file_id,author:this.author,release:this.release,path:this.path,name:this.name||this.title},this.onLoad.createDelegate(this));this.toc.body=this.body},onLoad:function(a){Pad.Reader.Pod.superclass.onLoad.call(this,a);if(!a){return}a.html=a.html.replace(/<pre>/g,"<pre class=\"brush: pl; class-name: 'highlight'; toolbar: false;\">");a.html=this.fixModuleLinks(a.html);this.body.insertHtml("afterBegin",'<div class="pod">'+a.html+"</div>");SyntaxHighlighter.highlight();this.toc.parseTOC(Ext.select('ul[id="index"]',false,this.body.dom).elements[0]);var b=this;this.toc.tree.on("click",function(c){b.scrollToSection(c.id)})},fixModuleLinks:function(a){a=a.replace(/ class="moduleLink"/g," onclick=\"Pad.UI.TabPanel.add(new Pad.Reader.Pod({title: this.getAttribute('href')})); return false;\"");return a},afterRender:function(a,b){Pad.Reader.Pod.superclass.afterRender.call(this,a);this.toc.render(this.tbar);this.tabEl.dd=new Ext.dd.DragSource(this.tabEl,{ddGroup:"group",dropEl:this,onMouseUp:function(c){if(!this.dropEl.isVisible()){this.dropEl.show()}}})},scrollToSection:function(c){var a=Ext.select('[id="'+c+'"]',false,this.body.dom);if(!a.elements[0]){return}var b=(Ext.fly(a.elements[0]).getOffsetsTo(this.body)[1])+this.body.dom.scrollTop;this.body.scrollTo("top",b,{duration:0.5})}});Ext.ns("Pad.Reader.Source");Pad.Reader.Source=Ext.extend(Pad.Reader,{title:"Pad.Reader",xtype:"padreadersource",controller:"source",autoScroll:true,iconCls:"silk-page-white-code",closable:true,tbar:[],onRender:function(a){Pad.Reader.Source.superclass.onRender.call(this,a);this.load()},load:function(){File.source(this.author,this.release,this.path,this.onLoad.createDelegate(this))},onLoad:function(c){Pad.Reader.Source.superclass.onLoad.call(this,c);this.body.insertHtml("afterBegin","<pre class=\"brush: pl; class-name: 'highlight'; toolbar: false;\">"+Ext.util.Format.htmlEncode(c.source)+"</pre>");SyntaxHighlighter.highlight();this.podLines=c.pod_lines;var b=this.getTopToolbar();var a=this.body.child(".container").dom.children.length;b.addText(Ext.util.Format.number(a,"0,0")+" lines");if(c.sloc){b.addText(" ("+Ext.util.Format.number(c.sloc,"0,0")+" sloc)")}b.addSeparator();b.addText(Ext.util.Format.number(c.stat.size/1024,"0,000.0")+" kb");b.addFill();b.add({iconCls:"silk-printer",tooltip:"Print document"});b.doLayout()}});Ext.ns("Pad.Reader.Source.Code");Pad.Reader.Source.Code=Ext.extend(Pad.Reader.Source,{title:"Pad.Reader",autoScroll:true,iconCls:"silk-page-white-code",xtype:"padreadersourcecode",controller:"code",closable:true,tbar:[{text:"Strip POD",iconCls:"silk-text-dropcaps",pressed:true,enableToggle:true,handler:function(){this.ownerCt.ownerCt.togglePod(this.pressed)}}],load:function(){Module.code({author:this.author,release:this.release,path:this.path},this.onLoad.createDelegate(this))},onLoad:function(b){var a=this.getTopToolbar();a.addSeparator();Pad.Reader.Source.Code.superclass.onLoad.call(this,b);this.togglePod(true)},togglePod:function(b){b=b?"none":"";var c=this.podLines;if(!c){return}for(var d=0;d<c.length;d++){var h=c[d][0],e=c[d][1];var g=this.body.child(".container").dom.children;var f=this.body.child(".gutter").dom.children;var a;for(a=h;a<h+e;a++){g[a].style.display=b;f[a].style.display=b}}}});Ext.ns("Pad.Reader.TOC");Pad.Reader.TOC.Pod=Ext.extend(Ext.Container,{parseTOC:function(a){this.tree.root.appendChild(this.buildTree(a))},buildTree:function(b){var e=[];if(!b){return e}for(var a=0;a<b.children.length;a++){var d=b.children[a];var c={text:d.firstChild.innerHTML,id:d.firstChild.getAttribute("href").replace(/#/,"")};if(d.children.length>1){c.children=this.buildTree(d.children[1])}else{c.leaf=true}e.push(c)}return e},afterRender:function(d){d.insertHtml("afterBegin",'<div class="x-toolbar pad-toc-container"><div class="pad-toc-tree"></div>T<br>O<br>C<div class="pad-toc-tool"></div></div>');this.el=d.child(".pad-toc-container");var c=new Ext.Button({renderTo:d.child(".pad-toc-tool"),iconCls:"silk-control-play",enableToggle:true,tooltip:"Remain expanded"});this.tree=new Ext.tree.TreePanel({autoScroll:true,rootVisible:false,height:150,renderTo:d.child(".pad-toc-tree"),root:{id:"root",text:"TOC",expanded:true,children:[]}});var h=this.tree.getWidth()+2;this.getEl().alignTo(this.container,"tl-tl",[0,27]);var g=d.child(".pad-toc-container");var b=g.getX()-h;this.el.setX(b);var f={};var e=function(k,j){if(f.anim&&f.anim.isAnimated){return}g.setX(b+h,f)};var a=function(l,k,j){if(f.anim&&f.anim.isAnimated||c.pressed){return}g.setX(b,f)};g.on("mouseenter",e);g.on("mouseleave",a)}});Ext.ns("Pad.RelatedPanel");Pad.RelatedPanel=Ext.extend(Pad.CardPortlet,{iconCls:"silk-package-link",title:"Related Modules",identifier:"release"});Pad.RelatedPanel.Accordion=Ext.extend(Ext.Panel,{layout:"accordion",xtype:"related",references:0,loaded:false,initComponent:function(){this.items=[{xtype:"padportletdataview",title:"Documentation",release:this.release,author:this.author,api:Release.documentation,listeners:{load:this.onLoad.createDelegate(this)}},{xtype:"padportletdataview",title:"Dependencies",release:this.release,author:this.author,api:Release.dependencies,listeners:{load:this.onLoad.createDelegate(this)}}];this.addEvents("load");Pad.RelatedPanel.Accordion.superclass.initComponent.call(this,arguments)},onLoad:function(){var a=true;this.items.each(function(b){if(!b.loaded){a=false}});if(a){this.fireEvent("load")}}});Ext.reg("padrelated",Pad.RelatedPanel.Accordion);Ext.ns("Pad.TabPanel");Pad.TabPanel=Ext.extend(Ext.TabPanel,{style:"padding:10px 0px 10px 0px",id:"pad-reader",enableTabScroll:true,plain:true,add:function(d){var b;if(this.items){this.items.each(function(e){if(e.xtype!=d.xtype){return}for(var c=0;c<e.identifier.length;c++){if(e[e.identifier[c]]!=d[d.identifier[c]]){return}}b=e;return false})}if(b){return this.activate(b)}var a=Pad.TabPanel.superclass.add.call(this,d);if(!Ext.isArray(a)){a.on("close",function(c){Pad.UI.FilesPanel.remove(c);Pad.UI.RelatedPanel.remove(c)})}if(this.rendered){this.activate(d)}},initEvents:function(){Pad.TabPanel.superclass.initEvents.call(this,arguments);this.on("tabchange",this.onTabChange);this.on("close",this.onClose)},onTabChange:function(a,b){b.setToken()},proxyLink:function(a){return false}});new Ext.KeyMap(document,{key:"w",ctrl:false,alt:false,shift:false,fn:function(b,d){if(d.target.tagName=="INPUT"){return}if(Pad.UI.TabPanel.items.items.length==1){return}var c=Pad.UI.TabPanel.getActiveTab();if(c.xtype=="padhome"){return}c.fireEvent("close",c);Pad.UI.TabPanel.remove(c,true)},});new Ext.KeyMap(document,{key:"w",ctrl:false,alt:false,shift:true,fn:function(b,c){if(c.target.tagName=="INPUT"){return}if(Pad.UI.TabPanel.items.items.length==1){return}var b=Pad.UI.TabPanel.getActiveTab();Pad.UI.TabPanel.items.each(function(a){if(a==b){return}if(a.xtype=="padhome"){return}a.fireEvent("close",a);Pad.UI.TabPanel.remove(a,true)})},});new Ext.KeyMap(document,{key:Ext.EventObject.ESC,ctrl:false,shift:false,alt:false,fn:function(b,c){document.activeElement.blur()},});new Ext.KeyMap(document,{key:Ext.EventObject.LEFT,ctrl:false,shift:false,alt:false,fn:function(b,f){if(f.target.tagName=="INPUT"){return}if(Pad.UI.TabPanel.items.items.length==1){return}var d=Pad.UI.TabPanel.getActiveTab();var c=Pad.UI.TabPanel.items.indexOf(d);if(c==0){return}Pad.UI.TabPanel.activate(c-1)},});new Ext.KeyMap(document,{key:Ext.EventObject.RIGHT,ctrl:false,shift:false,alt:false,fn:function(b,f){if(f.target.tagName=="INPUT"){return}if(Pad.UI.TabPanel.items.items.length==1){return}var d=Pad.UI.TabPanel.getActiveTab();var c=Pad.UI.TabPanel.items.indexOf(d);if(Pad.UI.TabPanel.items.items.length==c+1){return}Pad.UI.TabPanel.activate(c+1)},});Pad.Viewport=Ext.extend(Ext.Viewport,{layout:"border",frame:false,defaults:{bodyStyle:"background-color: #e8f0Fe;",bodyCssClass:"pad-no-scroll-x",border:false,autoScroll:false},initComponent:function(){this.FilesPanel=new Pad.FilesPanel({items:[]});this.RelatedPanel=new Pad.RelatedPanel();this.TabPanel=new Pad.TabPanel({items:[new Pad.Home()]});this.ServerPortlet=new Pad.Portlet.ServerPortlet();var a=[];this.items=[{region:"center",style:"padding-left: 10px",layout:"fit",border:false,items:[this.TabPanel]},{xtype:"portal",region:"east",width:250,items:[{width:250,style:"padding:10px",items:[this.FilesPanel,this.RelatedPanel,this.ServerPortlet]}]}];Pad.Viewport.superclass.initComponent.call(this,arguments)},});
/*
 * Ext JS Library 3.3.1
 * Copyright(c) 2006-2010 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.ux.GMapPanel=Ext.extend(Ext.Panel,{initComponent:function(){var a={plain:true,zoomLevel:3,yaw:180,pitch:0,zoom:0,gmapType:"map",border:false};Ext.applyIf(this,a);Ext.ux.GMapPanel.superclass.initComponent.call(this)},afterRender:function(){var b=this.ownerCt.getSize();Ext.applyIf(this,b);Ext.ux.GMapPanel.superclass.afterRender.call(this);if(this.gmapType==="map"){this.gmap=new GMap2(this.body.dom)}if(this.gmapType==="panorama"){this.gmap=new GStreetviewPanorama(this.body.dom)}if(typeof this.addControl=="object"&&this.gmapType==="map"){this.gmap.addControl(this.addControl)}if(typeof this.setCenter==="object"){if(typeof this.setCenter.geoCodeAddr==="string"){this.geoCodeLookup(this.setCenter.geoCodeAddr)}else{if(this.gmapType==="map"){var a=new GLatLng(this.setCenter.lat,this.setCenter.lng);this.gmap.setCenter(a,this.zoomLevel)}if(typeof this.setCenter.marker==="object"&&typeof a==="object"){this.addMarker(a,this.setCenter.marker,this.setCenter.marker.clear)}}if(this.gmapType==="panorama"){this.gmap.setLocationAndPOV(new GLatLng(this.setCenter.lat,this.setCenter.lng),{yaw:this.yaw,pitch:this.pitch,zoom:this.zoom})}}this.onMapReady()},onMapReady:function(){this.addMarkers(this.markers);this.addMapControls();this.addOptions()},onResize:function(a,b){if(typeof this.getMap()=="object"){this.gmap.checkResize()}Ext.ux.GMapPanel.superclass.onResize.call(this,a,b)},setSize:function(c,a,b){if(typeof this.getMap()=="object"){this.gmap.checkResize()}Ext.ux.GMapPanel.superclass.setSize.call(this,c,a,b)},getMap:function(){return this.gmap},getCenter:function(){return this.getMap().getCenter()},getCenterLatLng:function(){var a=this.getCenter();return{lat:a.lat(),lng:a.lng()}},addMarkers:function(c){if(Ext.isArray(c)){for(var b=0;b<c.length;b++){var a=new GLatLng(c[b].lat,c[b].lng);this.addMarker(a,c[b].marker,false,c[b].setCenter,c[b].listeners)}}},addMarker:function(c,d,b,a,e){Ext.applyIf(d,G_DEFAULT_ICON);if(b===true){this.getMap().clearOverlays()}if(a===true){this.getMap().setCenter(c,this.zoomLevel)}var f=new GMarker(c,d);if(typeof e==="object"){for(evt in e){GEvent.bind(f,evt,this,e[evt])}}this.getMap().addOverlay(f)},addMapControls:function(){if(this.gmapType==="map"){if(Ext.isArray(this.mapControls)){for(i=0;i<this.mapControls.length;i++){this.addMapControl(this.mapControls[i])}}else{if(typeof this.mapControls==="string"){this.addMapControl(this.mapControls)}else{if(typeof this.mapControls==="object"){this.getMap().addControl(this.mapControls)}}}}},addMapControl:function(b){var a=window[b];if(typeof a==="function"){this.getMap().addControl(new a())}},addOptions:function(){if(Ext.isArray(this.mapConfOpts)){var a;for(i=0;i<this.mapConfOpts.length;i++){this.addOption(this.mapConfOpts[i])}}else{if(typeof this.mapConfOpts==="string"){this.addOption(this.mapConfOpts)}}},addOption:function(b){var a=this.getMap()[b];if(typeof a==="function"){this.getMap()[b]()}},geoCodeLookup:function(a){this.geocoder=new GClientGeocoder();this.geocoder.getLocations(a,this.addAddressToMap.createDelegate(this))},addAddressToMap:function(a){if(!a||a.Status.code!=200){Ext.MessageBox.alert("Error","Code "+a.Status.code+" Error Returned")}else{place=a.Placemark[0];addressinfo=place.AddressDetails;accuracy=addressinfo.Accuracy;if(accuracy===0){Ext.MessageBox.alert("Unable to Locate Address","Unable to Locate the Address you provided")}else{if(accuracy<7){Ext.MessageBox.alert("Address Accuracy","The address provided has a low accuracy.<br><br>Level "+accuracy+" Accuracy (8 = Exact Match, 1 = Vague Match)")}else{point=new GLatLng(place.Point.coordinates[1],place.Point.coordinates[0]);if(typeof this.setCenter.marker==="object"&&typeof point==="object"){this.addMarker(point,this.setCenter.marker,this.setCenter.marker.clear,true,this.setCenter.listeners)}}}}}});Ext.reg("gmappanel",Ext.ux.GMapPanel);
/*
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ux.PanelResizer=Ext.extend(Ext.util.Observable,{minHeight:0,maxHeight:10000000,constructor:function(a){Ext.apply(this,a);this.events={};Ext.ux.PanelResizer.superclass.constructor.call(this,a)},init:function(a){this.panel=a;if(this.panel.elements.indexOf("footer")==-1){a.elements+=",footer"}a.on("render",this.onRender,this)},onRender:function(a){this.handle=a.footer.createChild({cls:"x-panel-resize"});this.tracker=new Ext.dd.DragTracker({onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(this.handle);a.on("beforedestroy",this.tracker.destroy,this.tracker)},onDragStart:function(a){this.dragging=true;this.startHeight=this.panel.el.getHeight();this.fireEvent("dragstart",this,a)},onDrag:function(a){this.panel.setHeight((this.startHeight-this.tracker.getOffset()[1]).constrain(this.minHeight,this.maxHeight));this.fireEvent("drag",this,a)},onDragEnd:function(a){this.dragging=false;this.fireEvent("dragend",this,a)}});Ext.preg("panelresizer",Ext.ux.PanelResizer);
/*
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ux.Portal=Ext.extend(Ext.Panel,{layout:"column",autoScroll:true,cls:"x-portal",defaultType:"portalcolumn",initComponent:function(){Ext.ux.Portal.superclass.initComponent.call(this);this.addEvents({validatedrop:true,beforedragover:true,dragover:true,beforedrop:true,drop:true})},initEvents:function(){Ext.ux.Portal.superclass.initEvents.call(this);this.dd=new Ext.ux.Portal.DropZone(this,this.dropConfig)},beforeDestroy:function(){if(this.dd){this.dd.unreg()}Ext.ux.Portal.superclass.beforeDestroy.call(this)}});Ext.reg("portal",Ext.ux.Portal);Ext.ux.Portal.DropZone=Ext.extend(Ext.dd.DropTarget,{constructor:function(a,b){this.portal=a;Ext.dd.ScrollManager.register(a.body);Ext.ux.Portal.DropZone.superclass.constructor.call(this,a.bwrap.dom,b);a.body.ddScrollConfig=this.ddScrollConfig},ddScrollConfig:{vthresh:50,hthresh:-1,animate:true,increment:200},createEvent:function(a,f,d,b,h,g){return{portal:this.portal,panel:d.panel,columnIndex:b,column:h,position:g,data:d,source:a,rawEvent:f,status:this.dropAllowed}},notifyOver:function(w,u,x){var f=u.getXY(),a=this.portal,o=w.proxy;if(!this.grid){this.grid=this.getGrid()}var b=a.body.dom.clientWidth;if(!this.lastCW){this.lastCW=b}else{if(this.lastCW!=b){this.lastCW=b;a.doLayout();this.grid=this.getGrid()}}var d=0,m=this.grid.columnX,n=false;for(var t=m.length;d<t;d++){if(f[0]<(m[d].x+m[d].w)){n=true;break}}if(!n){d--}var r,l=false,j=0,v=a.items.itemAt(d),q=v.items.items,k=false;for(var t=q.length;j<t;j++){r=q[j];var s=r.el.getHeight();if(s===0){k=true}else{if((r.el.getY()+(s/2))>f[1]){l=true;break}}}j=(l&&r?j:v.items.getCount())+(k?-1:0);var g=this.createEvent(w,u,x,d,v,j);if(a.fireEvent("validatedrop",g)!==false&&a.fireEvent("beforedragover",g)!==false){o.getProxy().setWidth("auto");if(r){o.moveProxy(r.el.dom.parentNode,l?r.el.dom:null)}else{o.moveProxy(v.el.dom,null)}this.lastPos={c:v,col:d,p:k||(l&&r)?j:false};this.scrollPos=a.body.getScroll();a.fireEvent("dragover",g);return g.status}else{return g.status}},notifyOut:function(){delete this.grid},notifyDrop:function(m,h,g){delete this.grid;if(!this.lastPos){return}var k=this.lastPos.c,f=this.lastPos.col,l=this.lastPos.p,a=m.panel,b=this.createEvent(m,h,g,f,k,l!==false?l:k.items.getCount());if(this.portal.fireEvent("validatedrop",b)!==false&&this.portal.fireEvent("beforedrop",b)!==false){m.proxy.getProxy().remove();a.el.dom.parentNode.removeChild(m.panel.el.dom);if(l!==false){k.insert(l,a)}else{k.add(a)}k.doLayout();this.portal.fireEvent("drop",b);var n=this.scrollPos.top;if(n){var j=this.portal.body.dom;setTimeout(function(){j.scrollTop=n},10)}}delete this.lastPos},getGrid:function(){var a=this.portal.bwrap.getBox();a.columnX=[];this.portal.items.each(function(b){a.columnX.push({x:b.el.getX(),w:b.el.getWidth()})});return a},unreg:function(){Ext.dd.ScrollManager.unregister(this.portal.body);Ext.ux.Portal.DropZone.superclass.unreg.call(this)}});
/*
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ux.PortalColumn=Ext.extend(Ext.Container,{layout:"anchor",defaultType:"portlet",cls:"x-portal-column"});Ext.reg("portalcolumn",Ext.ux.PortalColumn);
/*
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ux.Portlet=Ext.extend(Ext.Panel,{anchor:"100%",frame:true,collapsible:true,draggable:true,cls:"x-portlet"});Ext.reg("portlet",Ext.ux.Portlet);Ext.onReady(function(){Ext.QuickTips.init();Ext.History.init();Pad.UI=new Pad.Viewport;Ext.History.on("change",function(b){if(b){Util.loadPage(b)}});var a=Ext.History.getToken()||"/home";Util.loadPage(a)});